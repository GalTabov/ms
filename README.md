# 1.	Установка операционной системы на CLI: 
* Установите операционную систему Альт Рабочая станция,
```
Создаем виртуальную машину CLI 
Linux, Other Linux 64bit, 2 процессора, более 2 ГБ оперативная память, 60 ГБ жесткий диск, видеопамять 128 МБ
Подключаем alt-workstation-10.1-x86_64.iso
И запускаем
```
* Задайте имя компьютера CLI
* При установке укажите имена пользователь user с паролем resu, и пользователь root с паролем toor,
* IP адрес вам приход от провайдера по DHCP,
* Остальные настройки при установки оставить по умолчанию.

# 3.	Настройка клиентского компьютера:
a.	Проведите обновление системы.
```
su -
apt-get update
apt-get dist-upgrade
apt-get clean              #необязательно
reboot
```

b.	Создайте пользователя user2 с паролем P@ssw0rd.
```
useradd user2
passwd user2
```
c.	Установите Яндекс браузер.
```
su -
apt-get update
apt-get install yandex-browser-stable
```
i.	Настройте блокировщик рекламы для работы с Яндекс браузером
```
Заходим в меню три полоски справа сверху, Расширения, в поиске пишем Adguard и нажимаем установить.
```
d.	Установите антивирус Kaspersky.
```
Скачать в Яндекс браузере
```
https://products.s.kaspersky-labs.com/endpoints/keslinux10/11.4.0.1096/multilanguage-11.4.0.1096/3732393737337c44454c7c31/kesl-11.4.0-1096.x86_64.rpm

https://products.s.kaspersky-labs.com/endpoints/keslinux10/11.4.0.1096/multilanguage-11.4.0.1096/3732393737367c44454c7c31/kesl-gui-11.4.0-1096.x86_64.rpm
```
Открыть каталог Загрузки 
Правой кнопкой kesl-11.4.0-1096.x86_64.rpm – «Открыть в установка RPM»
Ввести пароль root

Правой кнопкой kesl-gui-11.4.0-1096.x86_64.rpm – «Открыть в установка RPM»
Ввести пароль root

su -
/opt/kaspersky/kesl/bin/kesl-setup.pl

Enter
y
Enter
…
user with admin rights - указать user
advanced update settings - n 

```
i.	Настройте расписание сканирование системы.

ii.	Проверить работоспособность антивируса с помощью программы eicar.
```
В Яндекс Браузере ищем и скачиваем eicar.
```
http://www.virusanalyst.com/eicar.zip

e.	Установите Telegram (они должны запускается, но не авторизовывайтесь)
```
su -
apt-get update
apt-get install telegram-desktop
```
f.	Установите Steam (они должны запускается, но не авторизовывайтесь)
```
apt-get update
apt-get install i586-steam
```
g.	Установите игру «CS 1.6» (установочный файл запрашиваете у экспертов) используя программное обеспечение «Play on Linux» и программное обеспечение wine (их тоже необходимо установить)
```
su -
apt-get update
apt-get install wine-full i586-wine
```
Скачиваем тут:

https://your-cs.com/download.php?id=121

Или тут:

https://dl4.your-cs.com/yourmon_cs16.exe
```
Скопировать CS в «Файловая система» - /tmp
Открыть терминал в каталоге /tmp (правой кнопкой – Открыть  в терминале)
Не далать "su -"
wine yourmon_cs16.exe (нажать TAB чтобы дописать имя)
```
i.	После установки запустите игру и подключитесь к своему серверу 
```
На рабочем столе
```
ii.	Подключитесь к nextcloud и сохраните учётные данные для входа.

https://10.11.12.10:8080

# 2.	На SRV необходимо сделать следующие настройки: 
Текущие учетные данные пользователь user с паролем resu, и пользователь root с паролем toor.
a.	Настройте следующий IP адрес 10.11.12.10 с маской 255.255.255.0 (24) шлюз по умолчанию 10.11.12.1 и DNS сервер 10.11.12.1
```
# Переходим в папку /etc/net/ifaces/en???/
cd /etc/net/if<tab>/en<tab>

# Далее в этой папке надо исправить(некоторые создать) 4 файла.
# Изменения в каждый файл вносятся редактором MC (Midnight Commander).
# Далее файл сохраняется (F2) и выходим (F10)

mcedit ipv4address
# добавить в этот файл строчку:
10.11.12.10/24

mcedit ipv4route
# добавить в этот файл строчку:
default via 10.11.12.1

mcedit options
# в этоv файлt заменяем BOOTPROTO=dhcp на BOOTPROTO=static

mcedit resolv.conf
# добавить в этот файл строчку:
nameserver 10.11.12.1

# далее надо перезагрузить весь сервер
reboot
# либо другой вариант перезагрузить сетевую службу 'network'
systemctrl restart network
```
b.	Проверьте связность между SRV и CLI, а также доступность в интернет.
```
# Вводим в консоли SRV:
ping 10.12.12.10          #проверка связности SRV->CLI
ping 8.8.8.8              #проверка доступности интернет 

# Вводим в консоли CLI:
ping 10.11.12.10          #проверка связности CLI->SRV
ping 8.8.8.8              #проверка доступности интернет 

# (опционально) если что-то не работает, надо проверить собственные адреса SRV и CLI:
ip a                      # выдача настроек интерфейса (адрес будет иметь вид 10.хх.хх.хх) 
ip r                      # настройки маршрутизации (д.б. как задавали в файле ip4route)
```
c.	Проведите обновление системы.
```
su -                                               # можно не делать, если мы уже root
apt-get update
apt-get dist-upgrade
apt-get clean              #необязательно
reboot
```
d.	Задайте имя компьютера SRV. 
```
# Как в пункте 'a', через mcedit внести изменения в файл: 
mcedit /etc/hostname
# добавить в этот файл строчку:
SRV
```
e.	Поменяйте пароль пользователю user на P@ssw0rd.
```
passwd user
```
j.	Установите Web-интерфейс Алтератор для управления сервером SRV с машины CLI.
```
apt-get install alterator-fbi
service alteratord start
service ahttpd start

# из броузера машины CLI должен быть доступен этот web-интерфейс ???
https://10.11.12.10:8080       
```
f.	Подключите созданную NFS шару с сервера 10.11.12.1. Она должна автоматический монтироваться по пути /mnt/nfsshare.
```
su -                                               # можно не делать, если мы уже root
mkdir /mnt/nfsshare                                # создаем новую папку "nfsshare" в папке "mnt"
mount -t nfs 10.11.12.1:/mysharedir /mnt/nfsshare  # монтируем шару 10.11.12.1:/mysharedir

# проверка: если все смонтировалось, то в папке /mnt/nfsshare появятся файлы.
# проверяям командой 'ls' или `ll`
ll /mnt/nfsshare
```
g.	Настройте подключение по SSH для удалённого конфигурирования устройства.
```
# редактируем конфигурационный файл SSH:
mcedit /etc/openssh/sshd_config

# Дописываем в конец файла следующие строчки:
Port 22
PermitRootLogin yes
PasswordAuthentication yes
# либо можно найти эти строчки в файле и раскоментировать их
# далее файл сохраняется (F2) и выходим (F10)

# Далее надо перезапустить SSH-сервер (sshd-демон). 
# Для этого в командной строке вводим:
systemctl restart sshd

# (Опционально) Проверить правильно ли запустилась служба можно командой:
systemctl status sshd
```
h.	Необходимо поставить сервер для игры «CS 1.6» выбор пути установки на ваш выбор но мы рекомендуем поставить через docker.
```
apt-get install docker-ce
# запускаем службу (docker-демон)
systemctl enable --now docker docker.socket

docker pull febley/counter-strike_server

# (опционально) далее даны команды которые могут помочь если предыдущая команда выполнилась с ошибкой
docker pull hello-world               # проверка связи с DockerHUB
docker search febley                  # поиск пакета по имени автора на DockerHUB

# далее приведена одна команда, просто она записана на 2х строчках.
# её можно вводить в одну строчку 
# **!!!! символ '\' вводить не нужно !!!**
docker run -ti --name counter-strike_server -p 27015:27015/udp \
               -p 27015:27015 febley/counter-strike_server:latest

# выйти из контейнера можно командами <ctrl>+C
# либо <ctrl>+P а потом <ctrl>+Q 
```
i.	Установите хранилище данных nextcloud.
```
apt-get install deploy
deploy nextcloud
```
Чтобы узнать пароль пользователя ncadmin сразу после разворачивания, можно посмотреть значение параметра admin-pass в журнале:
```
journalctl -b |grep admin-pass
```
Открываем:

http://localhost/nextcloud

Пользователь ncadmin, пароль тут:
```
journalctl -b |grep admin-pass
```
i.	Настройте пользователя USER_RESU с паролем P@ssw0rd для доступа с клиентского компьютера
```
useradd USER_RESU
passwd USER_RESU
P@ssw0rd
```
